{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ErrorNotification/ErrorNotification.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","images/error.png","components/ErrorNotification/ErrorNotification.js","services/pixabay-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","state","query","handleQueryChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","event","preventDefault","onSubmit","props","this","SearchForm","SearchFormButton","type","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","src","largeImageURL","alt","onOpenModal","data-source","width","onClick","ImageGalleryItemImage","ImageGallery","images","map","id","webformatURL","tags","Button","onLoadMore","Loader","color","height","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","ModalImage","ErrorNotification","message","ErrorMessage","errorImg","API_KEY","BASE_URL","page","a","fetch","response","json","api","fetchImages","App","isLoading","showModal","totalImages","error","handleFormSubmit","getImages","toggleLoader","imagesAPI","then","hits","total","toast","length","dark","info","catch","finally","handleChangePage","setTimeout","scrollTo","scrollBy","top","documentElement","clientHeight","behavior","toggleModal","source","dataset","prevProps","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f24ee43a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2vrhw\",\"Modal\":\"Modal_Modal__452lx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__GRKyw\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1J3nD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ErrorNotification\":\"ErrorNotification_ErrorNotification__3sQld\",\"ErrorMessage\":\"ErrorNotification_ErrorMessage__1ETJx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1Bn8B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__14V1J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2WGHh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__3TqcV\"};","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = e => {\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { query } = this.state;\n    const { onSubmit } = this.props;\n\n    onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button className={s.SearchFormButton} type=\"submit\">\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={query}\n            onChange={this.handleQueryChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ src, largeImageURL, alt, onOpenModal }) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={src}\n        data-source={largeImageURL}\n        alt={alt}\n        width=\"200\"\n        onClick={onOpenModal}\n        className={s.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          src={webformatURL}\n          largeImageURL={largeImageURL}\n          onOpenModal={onOpenModal}\n          alt={tags}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" onClick={onLoadMore} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import LoaderSpinner from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nfunction Loader() {\n  return (\n    <div className={s.Loader}>\n      <LoaderSpinner type=\"TailSpin\" color=\"#00BFFF\" height={90} width={90} />\n    </div>\n  );\n}\n\nexport default Loader;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImageURL, alt } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img className={s.ModalImage} src={largeImageURL} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/error.824d72e0.png\";","import PropTypes from 'prop-types';\nimport s from './ErrorNotification.module.css';\nimport errorImg from '../../images/error.png';\n\nfunction ErrorNotification({ message }) {\n  return (\n    <div className={s.ErrorNotification}>\n      <p className={s.ErrorMessage}> {message} </p>\n      <img src={errorImg} alt=\"error\" width=\"500\" />\n    </div>\n  );\n}\n\nErrorNotification.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","// https://pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\nconst API_KEY = '18468929-778868d20e0ea2a779d7d4913';\nconst BASE_URL = 'https://pixabay.com/api';\n\nasync function fetchImages(query, page) {\n  const response = await fetch(\n    `${BASE_URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  return await response.json();\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import { Component } from 'react';\nimport Container from './components/Container/Container';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport ErrorNotification from './components/ErrorNotification/ErrorNotification';\nimport imagesAPI from './services/pixabay-api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    largeImageURL: '',\n    alt: '',\n    isLoading: false,\n    showModal: false,\n    totalImages: 0,\n    error: null,\n  };\n\n  handleFormSubmit = query => {\n    this.setState({\n      query,\n      images: [],\n      page: 1,\n      totalImages: 0,\n      error: null,\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n\n    if (prevQuery !== nextQuery) {\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const { query, page } = this.state;\n\n    this.toggleLoader();\n\n    return imagesAPI\n      .fetchImages(query, page)\n      .then(({ hits, total }) => {\n        if (query === ' ') {\n          toast.info('🔥 Enter valid query.');\n          return;\n        }\n\n        if (total === 0) {\n          toast.dark('😞 Nothing was found. Enter another query.');\n          return;\n        }\n\n        if (page === 1) {\n          toast(`✨ ${total} images was found.`);\n        }\n\n        this.setState(({ images }) => ({\n          images: [...images, ...hits],\n          totalImages: total - images.length,\n        }));\n      })\n      .catch(error => {\n        this.setState({ error: `Something is wrong. ${error}` });\n      })\n      .finally(() => {\n        this.toggleLoader();\n      });\n  };\n\n  handleChangePage = () => {\n    this.setState(({ page }) => ({ page: page + 1 }));\n  };\n\n  toggleLoader = () => {\n    this.setState(({ isLoading }) => ({\n      isLoading: !isLoading,\n    }));\n  };\n\n  onLoadMore = () => {\n    this.handleChangePage();\n\n    setTimeout(() => {\n      this.getImages();\n    }, 400);\n\n    this.scrollTo();\n  };\n\n  scrollTo = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 150,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onOpenModal = e => {\n    const { source } = e.target.dataset;\n    const { alt } = e.target;\n\n    this.setState({\n      largeImageURL: source,\n      alt: alt,\n    });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      query,\n      images,\n      page,\n      largeImageURL,\n      alt,\n      isLoading,\n      showModal,\n      totalImages,\n      error,\n    } = this.state;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          query={query}\n          page={page}\n          images={images}\n          onOpenModal={this.onOpenModal}\n        />\n        {isLoading && <Loader />}\n        {totalImages > 11 && <Button onLoadMore={this.onLoadMore} />}\n        {showModal && (\n          <Modal\n            largeImageURL={largeImageURL}\n            alt={alt}\n            onClose={this.toggleModal}\n          />\n        )}\n        {error && <ErrorNotification message={error} />}\n        <ToastContainer />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3UN5P\",\"SearchForm\":\"Searchbar_SearchForm__3R7e1\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2fes2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2pxYH\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3RZvm\"};"],"sourceRoot":""}